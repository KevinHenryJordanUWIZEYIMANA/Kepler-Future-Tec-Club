<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kepler College - Admin Panel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="main-Admin-styles.css">
    <style>
        
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-logo">
                <h2><i class="fas fa-graduation-cap"></i> KC Admin</h2>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#" data-section="dashboard" class="menu-link active"><i class="fas fa-chart-line"></i>Dashboard</a></li>
                <li><a href="#" data-section="clubs" class="menu-link"><i class="fas fa-clubs"></i>Manage Clubs</a></li>
                <li><a href="#" data-section="applications" class="menu-link"><i class="fas fa-file-alt"></i>Applications</a></li>
                <li><a href="#" data-section="members" class="menu-link"><i class="fas fa-users"></i>Members</a></li>
                <li><a href="#" data-section="settings" class="menu-link"><i class="fas fa-cog"></i>Settings</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <header>
                <h1>Kepler College Admin Panel</h1>
                <div class="user-info">
                    <i class="fas fa-user-circle"></i>
                    <span>Administrator</span>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-icon"><i class="fas fa-clubs"></i></div>
                        <div class="card-title">Total Clubs</div>
                        <div class="card-value" id="total-clubs">5</div>
                    </div>
                    <div class="card">
                        <div class="card-icon"><i class="fas fa-file-alt"></i></div>
                        <div class="card-title">Total Applications</div>
                        <div class="card-value" id="total-apps">0</div>
                    </div>
                    <div class="card">
                        <div class="card-icon"><i class="fas fa-hourglass-half"></i></div>
                        <div class="card-title">Pending Applications</div>
                        <div class="card-value" id="pending-apps">0</div>
                    </div>
                    <div class="card">
                        <div class="card-icon"><i class="fas fa-users"></i></div>
                        <div class="card-title">Total Members</div>
                        <div class="card-value" id="total-members">0</div>
                    </div>
                </div>

                <div class="table-container">
                    <h3 style="margin-bottom: 15px;">Recent Applications</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Club</th>
                                <th>Status</th>
                                <th>Date</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="recent-apps-table">
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Clubs Management Section -->
            <section id="clubs" class="section">
                <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <button class="btn btn-primary" onclick="openAddClubModal()"><i class="fas fa-plus"></i> Add New Club</button>
                </div>

                <div class="table-container">
                    <h3 style="margin-bottom: 15px;">All Clubs</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Club Name</th>
                                <th>Description</th>
                                <th>Members</th>
                                <th>Advisor</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="clubs-table">
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Applications Management Section -->
            <section id="applications" class="section">
                <div class="filters">
                    <input type="text" id="search-apps" placeholder="Search by name or email...">
                    <select id="filter-status">
                        <option value="">All Status</option>
                        <option value="pending">Pending</option>
                        <option value="approved">Approved</option>
                        <option value="rejected">Rejected</option>
                    </select>
                    <select id="filter-club">
                        <option value="">All Clubs</option>
                        <option value="room-for-the-best">Room For The Best</option>
                        <option value="leadership-club">Leadership Club</option>
                        <option value="future-forward-tech-club">Future Forward Tech Club</option>
                        <option value="entrepreneurship-club">Entrepreneurship Club</option>
                        <option value="french-club">French Club</option>
                    </select>
                </div>

                <div class="table-container">
                    <h3 style="margin-bottom: 15px;">Student Applications</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Club</th>
                                <th>Motivation</th>
                                <th>Status</th>
                                <th>Date Applied</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="applications-table">
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Members Section -->
            <section id="members" class="section">
                <div class="filters">
                    <input type="text" id="search-members" placeholder="Search by name...">
                    <select id="filter-members-club">
                        <option value="">All Clubs</option>
                        <option value="room-for-the-best">Room For The Best</option>
                        <option value="leadership-club">Leadership Club</option>
                        <option value="future-forward-tech-club">Future Forward Tech Club</option>
                        <option value="entrepreneurship-club">Entrepreneurship Club</option>
                        <option value="french-club">French Club</option>
                    </select>
                </div>

                <div class="table-container">
                    <h3 style="margin-bottom: 15px;">Club Members</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Club</th>
                                <th>Join Date</th>
                                <th>Role</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="members-table">
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="section">
                <div class="form-section">
                    <h3>Admin Settings</h3>
                    <form id="settings-form">
                        <div class="form-group">
                            <label for="admin-email">Admin Email:</label>
                            <input type="email" id="admin-email" value="admin@keplercollege.edu">
                        </div>
                        <div class="form-group">
                            <label for="admin-phone">Phone:</label>
                            <input type="tel" id="admin-phone" value="+1 (555) 000-0000">
                        </div>
                        <div class="form-group">
                            <label for="college-name">College Name:</label>
                            <input type="text" id="college-name" value="Kepler College">
                        </div>
                        <div class="form-group">
                            <label for="contact-email">Support Email:</label>
                            <input type="email" id="contact-email" value="info@keplercollege.edu">
                        </div>
                        <div class="button-group">
                            <button type="submit" class="btn btn-primary">Save Settings</button>
                            <button type="reset" class="btn btn-warning">Reset</button>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </div>

    <!-- Modals -->
    <div id="appModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Application Details</span>
                <button class="close-btn" onclick="closeModal('appModal')">&times;</button>
            </div>
            <div id="modal-body">
            </div>
            <div class="button-group">
                <button class="btn btn-success" onclick="approveApplication()">Approve</button>
                <button class="btn btn-danger" onclick="rejectApplication()">Reject</button>
                <button class="btn btn-warning" onclick="closeModal('appModal')">Close</button>
            </div>
        </div>
    </div>

    <div id="clubModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span id="club-modal-title">Add New Club</span>
                <button class="close-btn" onclick="closeModal('clubModal')">&times;</button>
            </div>
            <form id="club-form">
                <div class="form-group">
                    <label for="club-name">Club Name:</label>
                    <input type="text" id="club-name" required>
                </div>
                <div class="form-group">
                    <label for="club-desc">Description:</label>
                    <textarea id="club-desc" required></textarea>
                </div>
                <div class="form-group">
                    <label for="club-advisor">Club Advisor:</label>
                    <input type="text" id="club-advisor" required>
                </div>
                <div class="form-group">
                    <label for="club-status">Status:</label>
                    <select id="club-status" required>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
                <div class="button-group">
                    <button type="submit" class="btn btn-primary">Save Club</button>
                    <button type="button" class="btn btn-warning" onclick="closeModal('clubModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample Data
        let applications = [
            { id: 1, name: 'John Doe', email: 'john@example.com', club: 'leadership-club', motivation: 'I want to develop leadership skills', status: 'pending', date: '2024-01-15' },
            { id: 2, name: 'Jane Smith', email: 'jane@example.com', club: 'future-forward-tech-club', motivation: 'Passionate about technology and innovation', status: 'approved', date: '2024-01-10' },
            { id: 3, name: 'Mike Johnson', email: 'mike@example.com', club: 'entrepreneurship-club', motivation: 'Want to start my own business', status: 'pending', date: '2024-01-14' },
        ];

        let clubs = [
            { id: 1, name: 'Room For The Best', description: 'Excellence and achievement', advisor: 'Dr. Smith', members: 45, status: 'active' },
            { id: 2, name: 'Leadership Club', description: 'Develop leadership skills', advisor: 'Prof. Johnson', members: 32, status: 'active' },
            { id: 3, name: 'Future Forward Tech Club', description: 'Technology and innovation', advisor: 'Dr. Lee', members: 28, status: 'active' },
            { id: 4, name: 'Entrepreneurship Club', description: 'Business and startups', advisor: 'Prof. Brown', members: 24, status: 'active' },
            { id: 5, name: 'French Club', description: 'French language and culture', advisor: 'Mme. Dubois', members: 18, status: 'active' },
        ];

        let members = [
            { id: 1, name: 'John Doe', email: 'john@example.com', club: 'leadership-club', joinDate: '2024-01-15', role: 'Member' },
            { id: 2, name: 'Jane Smith', email: 'jane@example.com', club: 'future-forward-tech-club', joinDate: '2024-01-10', role: 'Member' },
            { id: 3, name: 'Mike Johnson', email: 'mike@example.com', club: 'entrepreneurship-club', joinDate: '2024-01-14', role: 'Member' },
        ];

        let currentAppId = null;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboard();
            loadClubs();
            loadApplications();
            loadMembers();
            setupMenuListeners();
            setupFilterListeners();
        });

        // Menu Navigation
        function setupMenuListeners() {
            document.querySelectorAll('.menu-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.dataset.section;
                    showSection(section);
                    updateActiveMenu(this);
                });
            });
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
        }

        function updateActiveMenu(element) {
            document.querySelectorAll('.menu-link').forEach(link => {
                link.classList.remove('active');
            });
            element.classList.add('active');
        }

        // Dashboard
        function loadDashboard() {
            const pendingCount = applications.filter(app => app.status === 'pending').length;
            const approvedCount = applications.filter(app => app.status === 'approved').length;
            
            document.getElementById('total-clubs').textContent = clubs.length;
            document.getElementById('total-apps').textContent = applications.length;
            document.getElementById('pending-apps').textContent = pendingCount;
            document.getElementById('total-members').textContent = members.length;

            const recentApps = applications.slice(-5).reverse();
            const tbody = document.getElementById('recent-apps-table');
            tbody.innerHTML = recentApps.map(app => `
                <tr>
                    <td>${app.name}</td>
                    <td>${app.email}</td>
                    <td>${getClubName(app.club)}</td>
                    <td><span class="badge ${app.status}">${app.status}</span></td>
                    <td>${app.date}</td>
                    <td><button class="btn btn-primary btn-sm" onclick="viewApplication(${app.id})">View</button></td>
                </tr>
            `).join('');
        }

        // Clubs Management
        function loadClubs() {
            const tbody = document.getElementById('clubs-table');
            tbody.innerHTML = clubs.map(club => `
                <tr>
                    <td>${club.name}</td>
                    <td>${club.description}</td>
                    <td>${club.members}</td>
                    <td>${club.advisor}</td>
                    <td><span class="badge approved">${club.status}</span></td>
                    <td>
                        <button class="btn btn-primary" onclick="editClub(${club.id})">Edit</button>
                        <button class="btn btn-danger" onclick="deleteClub(${club.id})">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        function openAddClubModal() {
            document.getElementById('club-modal-title').textContent = 'Add New Club';
            document.getElementById('club-form').reset();
            document.getElementById('clubModal').classList.add('show');
        }

        function editClub(clubId) {
            const club = clubs.find(c => c.id === clubId);
            if (club) {
                document.getElementById('club-modal-title').textContent = 'Edit Club';
                document.getElementById('club-name').value = club.name;
                document.getElementById('club-desc').value = club.description;
                document.getElementById('club-advisor').value = club.advisor;
                document.getElementById('club-status').value = club.status;
                document.getElementById('clubModal').classList.add('show');
            }
        }

        function deleteClub(clubId) {
            if (confirm('Are you sure you want to delete this club?')) {
                clubs = clubs.filter(c => c.id !== clubId);
                loadClubs();
            }
        }

        document.getElementById('club-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Club saved successfully!');
            closeModal('clubModal');
            loadClubs();
        });

        // Applications Management
        function loadApplications() {
            filterApplications();
        }

        function filterApplications() {
            const search = document.getElementById('search-apps').value.toLowerCase();
            const status = document.getElementById('filter-status').value;
            const club = document.getElementById('filter-club').value;

            let filtered = applications.filter(app => {
                const matchSearch = app.name.toLowerCase().includes(search) || app.email.toLowerCase().includes(search);
                const matchStatus = !status || app.status === status;
                const matchClub = !club || app.club === club;
                return matchSearch && matchStatus && matchClub;
            });

            const tbody = document.getElementById('applications-table');
            tbody.innerHTML = filtered.map(app => `
                <tr>
                    <td>${app.name}</td>
                    <td>${app.email}</td>
                    <td>${getClubName(app.club)}</td>
                    <td>${app.motivation.substring(0, 30)}...</td>
                    <td><span class="badge ${app.status}">${app.status}</span></td>
                    <td>${app.date}</td>
                    <td>
                        <button class="btn btn-primary" onclick="viewApplication(${app.id})">View</button>
                        <button class="btn btn-success" onclick="updateAppStatus(${app.id}, 'approved')">Approve</button>
                        <button class="btn btn-danger" onclick="updateAppStatus(${app.id}, 'rejected')">Reject</button>
                    </td>
                </tr>
            `).join('');
        }

        function viewApplication(appId) {
            const app = applications.find(a => a.id === appId);
            if (app) {
                currentAppId = appId;
                document.getElementById('modal-body').innerHTML = `
                    <p><strong>Name:</strong> ${app.name}</p>
                    <p><strong>Email:</strong> ${app.email}</p>
                    <p><strong>Club:</strong> ${getClubName(app.club)}</p>
                    <p><strong>Motivation:</strong></p>
                    <p>${app.motivation}</p>
                    <p><strong>Applied:</strong> ${app.date}</p>
                    <p><strong>Current Status:</strong> <span class="badge ${app.status}">${app.status}</span></p>
                `;
                document.getElementById('appModal').classList.add('show');
            }
        }

        function approveApplication() {
            updateAppStatus(currentAppId, 'approved');
            closeModal('appModal');
        }

        function rejectApplication() {
            updateAppStatus(currentAppId, 'rejected');
            closeModal('appModal');
        }

        function updateAppStatus(appId, status) {
            const app = applications.find(a => a.id === appId);
            if (app) {
                app.status = status;
                if (status === 'approved' && !members.find(m => m.id === appId)) {
                    members.push({
                        id: appId,
                        name: app.name,
                        email: app.email,
                        club: app.club,
                        joinDate: new Date().toISOString().split('T')[0],
                        role: 'Member'
                    });
                }
                loadDashboard();
                loadApplications();
                loadMembers();
            }
        }

        function setupFilterListeners() {
            document.getElementById('search-apps')?.addEventListener('input', filterApplications);
            document.getElementById('filter-status')?.addEventListener('change', filterApplications);
            document.getElementById('filter-club')?.addEventListener('change', filterApplications);
            document.getElementById('search-members')?.addEventListener('input', filterMembers);
            document.getElementById('filter-members-club')?.addEventListener('change', filterMembers);
        }

        // Members Management
        function loadMembers() {
            filterMembers();
        }

        function filterMembers() {
            const search = document.getElementById('search-members')?.value.toLowerCase() || '';
            const club = document.getElementById('filter-members-club')?.value || '';

            let filtered = members.filter(member => {
                const matchSearch = member.name.toLowerCase().includes(search);
                const matchClub = !club || member.club === club;
                return matchSearch && matchClub;
            });

            const tbody = document.getElementById('members-table');
            tbody.innerHTML = filtered.map(member => `
                <tr>
                    <td>${member.name}</td>
                    <td>${member.email}</td>
                    <td>${getClubName(member.club)}</td>
                    <td>${member.joinDate}</td>
                    <td>${member.role}</td>
                    <td>
                        <button class="btn btn-warning" onclick="editMember(${member.id})">Edit</button>
                        <button class="btn btn-danger" onclick="removeMember(${member.id})">Remove</button>
                    </td>
                </tr>
            `).join('');
        }

        function editMember(memberId) {
            alert('Edit member functionality coming soon!');
        }

        function removeMember(memberId) {
            if (confirm('Remove this member from the club?')) {
                members = members.filter(m => m.id !== memberId);
                loadMembers();
            }
        }

        // Utilities
        function getClubName(clubId) {
            const club = clubs.find(c => c.id.toString() === clubId || c.name.toLowerCase() === clubId);
            return club ? club.name : clubId;
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('show');
            }
        }

        document.getElementById('settings-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Settings saved successfully!');
        });
    </script>
</body>
</html>
